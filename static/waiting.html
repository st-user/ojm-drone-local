<html>
    <head>
        <meta charset="UTF-8">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/normalize/8.0.1/normalize.min.css" integrity="sha512-NhSC1YmyruXifcj/KFRWoC561YpHpc5Jtzgvbuzx5VozKpWvQ+4nXhPdFgmx8xqexRcpAglTj9sIBWINXa8x5w==" crossorigin="anonymous" />
    </head>
    <body>
    <div style="width: 100%;">
        <div style="width: 480px; margin: auto;">
            Now server is restarting. Please wait for a whole.
        </div>
    </div>
    <script>
        window.addEventListener('load', () => {

            const check = () => {

                fetch('/healthCheck')
                    .then(res => {
                        if (res.ok) {
                            return res.json();
                        }
                        throw Error('Server unavaliable.')
                    })
                    .then(() => {
                        location.replace('/');
                    })
                    .catch(e => {
                        console.error(e);
                        setTimeout(check, 1000);
                    });

            };

            setTimeout(check, 1000);
        });
    </script>
    </body>
</html>